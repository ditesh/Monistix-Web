CREATE TABLE server (id BIGINT AUTO_INCREMENT, hostname VARCHAR(255) NOT NULL, group_id BIGINT NOT NULL, enabled TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX group_id_idx (group_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE server_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, enabled TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE server ADD CONSTRAINT server_group_id_server_group_id FOREIGN KEY (group_id) REFERENCES server_group(id) ON DELETE CASCADE;
